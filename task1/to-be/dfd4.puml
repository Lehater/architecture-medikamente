@startuml
title DFD #4: Учёт ТМЦ и взаимодействие со складом + Меры безопасности

actor "Поставщик" as Supplier
rectangle "Сотрудник склада\n(Процесс: Учёт ТМЦ)" as WarehouseStaff
database "1С Торговля и склад\n(Файловый режим)\n[TAG: FIN, EMP]" as OneC_Trade
rectangle "1С Бухгалтерия\n(Файловый режим)\n[TAG: FIN, EMP]" as OneC_Buh
rectangle "Бухгалтерия\n(Сотрудники)" as Accounting

' Поставщик доставляет товар с документами
Supplier --> WarehouseStaff: Предоставляет документы\n(накладные, счета)
note right: Документы содержат коммерческие данные

' Сотрудник склада вносит данные в 1С Торговля и склад
WarehouseStaff --> OneC_Trade: Ввод информации о ТМЦ
note left of OneC_Trade
Меры безопасности:
- Доступ ограничен (RBAC для сотрудников склада)
- Данные хранятся с шифрованием
- Логирование операций
- Теги: FIN (финансовые), EMP (данные сотрудников, если применимо)
end note

' Передача данных из 1С Торговля и склад в 1С Бухгалтерию
OneC_Trade --> OneC_Buh: Передача информации о движении ТМЦ
note on link
Передача по защищённому каналу (VPN/TLS)
end note

' Передача данных в бухгалтерию для формирования отчётов
OneC_Buh --> Accounting: Передача данных для контроля и учёта ТМЦ
note right: Данные передаются с соблюдением мер безопасности
@enduml